{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/yuchenxu/Desktop/codecanyon-RWquqpyI-food-delivery-react-native-template/FoodDelivery_Expo/src/screens/cart/CartA.js\";\nimport React, { Component, Fragment } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport remove from 'lodash/remove';\nimport ActionProductCardHorizontal from \"../../components/cards/ActionProductCardHorizontal\";\nimport Button from \"../../components/buttons/Button\";\nimport { Heading6, Subtitle1 } from \"../../components/text/CustomText\";\nimport Divider from \"../../components/divider/Divider\";\nimport EmptyState from \"../../components/emptystate/EmptyState\";\nimport Colors from \"../../theme/colors\";\nvar EMPTY_STATE_ICON = 'cart-remove';\nvar styles = StyleSheet.create({\n  flex1: {\n    flex: 1\n  },\n  inline: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'flex-end'\n  },\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingTop: 16,\n    paddingHorizontal: 16,\n    paddingBottom: 24\n  },\n  titleText: {\n    fontWeight: '700'\n  },\n  productList: {\n    paddingHorizontal: 12\n  },\n  subTotalText: {\n    top: -2,\n    fontWeight: '500',\n    color: Colors.onSurface\n  },\n  subTotalPriceText: {\n    fontWeight: '700',\n    color: Colors.primaryColor\n  },\n  bottomButtonContainer: {\n    width: '100%',\n    paddingVertical: 16,\n    paddingHorizontal: 24\n  }\n});\n\nvar CartA = function (_Component) {\n  _inherits(CartA, _Component);\n\n  function CartA(props) {\n    var _this;\n\n    _classCallCheck(this, CartA);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CartA).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.updateTotalAmount();\n    };\n\n    _this.navigateTo = function (screen) {\n      return function () {\n        var navigation = _this.props.navigation;\n        navigation.navigate(screen);\n      };\n    };\n\n    _this.swipeoutOnPressRemove = function (item) {\n      return function () {\n        var products = _this.state.products;\n        var index = products.indexOf(item);\n        products = remove(products, function (n) {\n          return products.indexOf(n) !== index;\n        });\n\n        _this.setState({\n          products: products\n        }, function () {\n          _this.updateTotalAmount();\n        });\n      };\n    };\n\n    _this.onPressRemove = function (item) {\n      return function () {\n        var quantity = item.quantity;\n        quantity -= 1;\n        var products = _this.state.products;\n        var index = products.indexOf(item);\n\n        if (quantity === 0) {\n          products = remove(products, function (n) {\n            return products.indexOf(n) !== index;\n          });\n        } else {\n          products[index].quantity = quantity;\n        }\n\n        _this.setState({\n          products: _toConsumableArray(products)\n        }, function () {\n          _this.updateTotalAmount();\n        });\n      };\n    };\n\n    _this.onPressAdd = function (item) {\n      return function () {\n        var quantity = item.quantity;\n        var products = _this.state.products;\n        var index = products.indexOf(item);\n        products[index].quantity = quantity + 1;\n\n        _this.setState({\n          products: _toConsumableArray(products)\n        }, function () {\n          _this.updateTotalAmount();\n        });\n      };\n    };\n\n    _this.updateTotalAmount = function () {\n      var products = _this.state.products;\n      var total = 0.0;\n      products.forEach(function (product) {\n        var price = product.price;\n        var discountPercentage = product.discountPercentage,\n            quantity = product.quantity;\n\n        if (typeof discountPercentage !== 'undefined') {\n          price -= price * discountPercentage * 0.01;\n        }\n\n        total += price * quantity;\n      });\n\n      _this.setState({\n        total: total\n      });\n    };\n\n    _this.keyExtractor = function (item) {\n      return item.id.toString();\n    };\n\n    _this.renderProductItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(ActionProductCardHorizontal, {\n        key: item.id,\n        onPress: _this.navigateTo('Product'),\n        onPressRemove: _this.onPressRemove(item),\n        onPressAdd: _this.onPressAdd(item),\n        imageUri: item.imageUri,\n        title: item.name,\n        description: item.description,\n        rating: item.rating,\n        price: item.price,\n        quantity: item.quantity,\n        discountPercentage: item.discountPercentage,\n        label: item.label,\n        swipeoutOnPressRemove: _this.swipeoutOnPressRemove(item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        }\n      });\n    };\n\n    _this.state = {\n      total: 0.0,\n      products: [{\n        id: 'product1',\n        imageUri: require(\"../../assets/img/sandwich_2.jpg\"),\n        name: 'Subway sandwich',\n        price: 10.0,\n        quantity: 2,\n        discountPercentage: 10\n      }, {\n        id: 'product2',\n        imageUri: require(\"../../assets/img/pizza_1.jpg\"),\n        name: 'Pizza Margarita 35cm',\n        price: 20.0,\n        quantity: 1\n      }, {\n        id: 'product3',\n        imageUri: require(\"../../assets/img/cake_1.jpg\"),\n        name: 'Chocolate cake',\n        price: 30.0,\n        quantity: 2\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(CartA, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          total = _this$state.total,\n          products = _this$state.products;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        }\n      }, React.createElement(StatusBar, {\n        backgroundColor: Colors.statusBarColor,\n        barStyle: \"dark-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        }\n      }), React.createElement(View, {\n        style: styles.titleContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        }\n      }, React.createElement(Heading6, {\n        style: styles.titleText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        }\n      }, \"Cart\"), products.length > 0 && React.createElement(View, {\n        style: styles.inline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        }\n      }, React.createElement(Subtitle1, {\n        style: styles.subTotalText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        }\n      }, \" Subtotal: \"), React.createElement(Heading6, {\n        style: styles.subTotalPriceText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        }\n      }, \"$ \" + parseFloat(Math.round(total * 100) / 100).toFixed(2)))), products.length === 0 ? React.createElement(EmptyState, {\n        showIcon: true,\n        iconName: EMPTY_STATE_ICON,\n        title: \"Your Cart is Empty\",\n        message: \"Looks like you haven't added anything to your cart yet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        }\n      }) : React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        }\n      }, React.createElement(View, {\n        style: styles.flex1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        }\n      }, React.createElement(FlatList, {\n        data: products,\n        keyExtractor: this.keyExtractor,\n        renderItem: this.renderProductItem,\n        contentContainerStyle: styles.productList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        }\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        }\n      }, React.createElement(View, {\n        style: styles.bottomButtonContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        }\n      }, React.createElement(Button, {\n        onPress: this.navigateTo('Checkout'),\n        title: \"Checkout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        }\n      })))));\n    }\n  }]);\n\n  return CartA;\n}(Component);\n\nexport { CartA as default };","map":{"version":3,"sources":["/Users/yuchenxu/Desktop/codecanyon-RWquqpyI-food-delivery-react-native-template/FoodDelivery_Expo/src/screens/cart/CartA.js"],"names":["React","Component","Fragment","remove","ActionProductCardHorizontal","Button","Heading6","Subtitle1","Divider","EmptyState","Colors","EMPTY_STATE_ICON","styles","StyleSheet","create","flex1","flex","inline","flexDirection","justifyContent","alignItems","container","backgroundColor","background","titleContainer","paddingTop","paddingHorizontal","paddingBottom","titleText","fontWeight","productList","subTotalText","top","color","onSurface","subTotalPriceText","primaryColor","bottomButtonContainer","width","paddingVertical","CartA","props","componentDidMount","updateTotalAmount","navigateTo","screen","navigation","navigate","swipeoutOnPressRemove","item","products","state","index","indexOf","n","setState","onPressRemove","quantity","onPressAdd","total","forEach","product","price","discountPercentage","keyExtractor","id","toString","renderProductItem","imageUri","name","description","rating","label","require","statusBarColor","length","parseFloat","Math","round","toFixed"],"mappings":"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","sourcesContent":["/**\n * Food Delivery - React Native Template\n *\n * @format\n * @flow\n */\n\n// import dependencies\nimport React, {Component, Fragment} from 'react';\nimport {\n  SafeAreaView,\n  StatusBar,\n  StyleSheet,\n  View,\n  FlatList,\n} from 'react-native';\nimport remove from 'lodash/remove';\n\n// import components\nimport ActionProductCardHorizontal from '../../components/cards/ActionProductCardHorizontal';\nimport Button from '../../components/buttons/Button';\nimport {Heading6, Subtitle1} from '../../components/text/CustomText';\nimport Divider from '../../components/divider/Divider';\nimport EmptyState from '../../components/emptystate/EmptyState';\n\n// import colors\nimport Colors from '../../theme/colors';\n\n// CartA Config\nconst EMPTY_STATE_ICON = 'cart-remove';\n\n// CartA Styles\nconst styles = StyleSheet.create({\n  flex1: {\n    flex: 1,\n  },\n  inline: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n  },\n  container: {\n    flex: 1,\n    backgroundColor: Colors.background,\n  },\n  titleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingTop: 16,\n    paddingHorizontal: 16,\n    paddingBottom: 24,\n  },\n  titleText: {\n    fontWeight: '700',\n  },\n  productList: {\n    // spacing = paddingHorizontal + ActionProductCardHorizontal margin = 12 + 4 = 16\n    paddingHorizontal: 12,\n  },\n  subTotalText: {\n    top: -2,\n    fontWeight: '500',\n    color: Colors.onSurface,\n  },\n  subTotalPriceText: {\n    fontWeight: '700',\n    color: Colors.primaryColor,\n  },\n  bottomButtonContainer: {\n    width: '100%',\n    paddingVertical: 16,\n    paddingHorizontal: 24,\n  },\n});\n\n// CartA\nexport default class CartA extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      total: 0.0,\n      products: [\n        {\n          id: 'product1',\n          imageUri: require('../../assets/img/sandwich_2.jpg'),\n          name: 'Subway sandwich',\n          price: 10.0,\n          quantity: 2,\n          discountPercentage: 10,\n        },\n        {\n          id: 'product2',\n          imageUri: require('../../assets/img/pizza_1.jpg'),\n          name: 'Pizza Margarita 35cm',\n          price: 20.0,\n          quantity: 1,\n        },\n        {\n          id: 'product3',\n          imageUri: require('../../assets/img/cake_1.jpg'),\n          name: 'Chocolate cake',\n          price: 30.0,\n          quantity: 2,\n        },\n      ],\n    };\n  }\n\n  componentDidMount = () => {\n    this.updateTotalAmount();\n  };\n\n  navigateTo = (screen) => () => {\n    const {navigation} = this.props;\n    navigation.navigate(screen);\n  };\n\n  swipeoutOnPressRemove = (item) => () => {\n    let {products} = this.state;\n    const index = products.indexOf(item);\n\n    products = remove(products, (n) => products.indexOf(n) !== index);\n\n    this.setState(\n      {\n        products,\n      },\n      () => {\n        this.updateTotalAmount();\n      },\n    );\n  };\n\n  onPressRemove = (item) => () => {\n    let {quantity} = item;\n    quantity -= 1;\n\n    let {products} = this.state;\n    const index = products.indexOf(item);\n\n    if (quantity === 0) {\n      products = remove(products, (n) => products.indexOf(n) !== index);\n    } else {\n      products[index].quantity = quantity;\n    }\n\n    this.setState(\n      {\n        products: [...products],\n      },\n      () => {\n        this.updateTotalAmount();\n      },\n    );\n  };\n\n  onPressAdd = (item) => () => {\n    const {quantity} = item;\n    const {products} = this.state;\n\n    const index = products.indexOf(item);\n    products[index].quantity = quantity + 1;\n\n    this.setState(\n      {\n        products: [...products],\n      },\n      () => {\n        this.updateTotalAmount();\n      },\n    );\n  };\n\n  updateTotalAmount = () => {\n    const {products} = this.state;\n    let total = 0.0;\n\n    products.forEach((product) => {\n      let {price} = product;\n      const {discountPercentage, quantity} = product;\n\n      if (typeof discountPercentage !== 'undefined') {\n        price -= price * discountPercentage * 0.01;\n      }\n      total += price * quantity;\n    });\n\n    this.setState({\n      total,\n    });\n  };\n\n  keyExtractor = (item) => item.id.toString();\n\n  renderProductItem = ({item}) => (\n    <ActionProductCardHorizontal\n      key={item.id}\n      onPress={this.navigateTo('Product')}\n      onPressRemove={this.onPressRemove(item)}\n      onPressAdd={this.onPressAdd(item)}\n      imageUri={item.imageUri}\n      title={item.name}\n      description={item.description}\n      rating={item.rating}\n      price={item.price}\n      quantity={item.quantity}\n      discountPercentage={item.discountPercentage}\n      label={item.label}\n      swipeoutOnPressRemove={this.swipeoutOnPressRemove(item)}\n    />\n  );\n\n  render() {\n    const {total, products} = this.state;\n\n    return (\n      <SafeAreaView style={styles.container}>\n        <StatusBar\n          backgroundColor={Colors.statusBarColor}\n          barStyle=\"dark-content\"\n        />\n\n        <View style={styles.titleContainer}>\n          <Heading6 style={styles.titleText}>Cart</Heading6>\n          {products.length > 0 && (\n            <View style={styles.inline}>\n              <Subtitle1 style={styles.subTotalText}> Subtotal: </Subtitle1>\n              <Heading6 style={styles.subTotalPriceText}>\n                {`$ ${parseFloat(Math.round(total * 100) / 100).toFixed(2)}`}\n              </Heading6>\n            </View>\n          )}\n        </View>\n\n        {products.length === 0 ? (\n          <EmptyState\n            showIcon\n            iconName={EMPTY_STATE_ICON}\n            title=\"Your Cart is Empty\"\n            message=\"Looks like you haven't added anything to your cart yet\"\n          />\n        ) : (\n          <Fragment>\n            <View style={styles.flex1}>\n              <FlatList\n                data={products}\n                keyExtractor={this.keyExtractor}\n                renderItem={this.renderProductItem}\n                contentContainerStyle={styles.productList}\n              />\n            </View>\n\n            <Divider />\n\n            <View>\n              <View style={styles.bottomButtonContainer}>\n                <Button\n                  onPress={this.navigateTo('Checkout')}\n                  title=\"Checkout\"\n                />\n              </View>\n            </View>\n          </Fragment>\n        )}\n      </SafeAreaView>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}